(this.webpackJsonpdesign_page=this.webpackJsonpdesign_page||[]).push([[0],{197:function(e,t){},208:function(e,t,o){},209:function(e,t,o){},418:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),s=o(18),i=o.n(s),c=(o(208),o(209),o(122)),l=o.n(c),r=o(124),d=o.n(r),g=o(125),u=o.n(g),p=o(126),j=o.n(p),h=o(127),f=o(197),O=(o(415),o(56)),b=o.n(O),x=o(31);var v=function(e){console.log("starting the app...");var t=b()("#root").data("props");console.log("ajax setup"),b.a.ajaxSetup({beforeSend:function(e,t){var o;o=t.type,/^(GET|HEAD|OPTIONS|TRACE)$/.test(o)||this.crossDomain||(console.log("ajax setup"),e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var a=b.a.trim(o[n]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken")))}});var o=Object(h.createStore)({key:f.polotno_key});return console.log(t),t.data.hasOwnProperty("plan_json")&&(console.log(o.activePage),o.loadJSON(JSON.parse(t.data.plan_json)),console.dir(o.pages),console.log(o.activePage.id)),o.setSize(320,240),Object(x.jsxs)("div",{style:{display:"flex",height:"100vh",width:"100vw"},children:[Object(x.jsx)("button",{onClick:function(){console.log(e.hello),console.log("clicked save"),t.data.hasOwnProperty("id")?b.a.ajax({method:"POST",url:"/update/plan/"+t.data.id+"/",data:{image_base64:o.toDataURL(),json:JSON.stringify(o.toJSON())}}).done((function(e){console.log(e)})):b.a.ajax({method:"POST",url:"/create_plan/",data:{image_base64:o.toDataURL(),json:JSON.stringify(o.toJSON())}}).done((function(e){console.log(e)}))},children:"Save"}),Object(x.jsx)("div",{style:{width:"400px",height:"100%",display:"flex"},children:Object(x.jsx)(u.a,{store:o})}),Object(x.jsxs)("div",{style:{display:"flex",height:"100%",margin:"auto",flex:1,flexDirection:"column",position:"relative"},children:[Object(x.jsx)(l.a,{store:o,downloadButtonEnabled:!0}),Object(x.jsx)(j.a,{store:o}),Object(x.jsx)(d.a,{store:o})]})]})},S=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,424)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;o(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root")),S()}},[[418,1,2]]]);
//# sourceMappingURL=main.35a6a159.chunk.js.map